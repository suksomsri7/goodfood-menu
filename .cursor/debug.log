{"location":"menu/page.tsx:handleCheckout","message":"Checkout started","data":{"lineUserId":"dev-user-001","cartLength":1,"totalPrice":130,"cartItems":[{"foodId":"cml3kc5mu0001rzqc40ylv8w3","foodName":"ปลาดอร์รี่ลุยสวน","qty":2}]},"timestamp":1770195554451,"sessionId":"debug-session","hypothesisId":"A,E"}
{"location":"menu/page.tsx:handleCheckout","message":"Sending order payload","data":{"orderPayload":{"lineUserId":"dev-user-001","coursePlan":"single","totalDays":1,"totalPrice":130,"items":[{"foodId":"cml3kc5mu0001rzqc40ylv8w3","foodName":"ปลาดอร์รี่ลุยสวน","quantity":2,"price":65,"calories":120}]}},"timestamp":1770195554452,"sessionId":"debug-session","hypothesisId":"B,C"}
{"location":"api/orders/route.ts","message":"POST /api/orders - Request body","data":{"lineUserId":"dev-user-001","coursePlan":"single","totalDays":1,"totalPrice":130,"itemsCount":1},"timestamp":1770195554597,"sessionId":"debug-session","hypothesisId":"A,B"}
{"location":"api/orders/route.ts","message":"POST /api/orders - Member lookup","data":{"lineUserId":"dev-user-001","memberFound":true,"memberId":"cml6pk0an0000rzzkesvt7rfx"},"timestamp":1770195554662,"sessionId":"debug-session","hypothesisId":"A"}
{"location":"api/orders/route.ts","message":"POST /api/orders - Creating order","data":{"finalMemberId":"cml6pk0an0000rzzkesvt7rfx","itemsToCreate":[{"foodId":"cml3kc5mu0001rzqc40ylv8w3","foodName":"ปลาดอร์รี่ลุยสวน","quantity":2,"price":65,"calories":120}]},"timestamp":1770195554663,"sessionId":"debug-session","hypothesisId":"C,D"}
{"location":"api/orders/route.ts","message":"POST /api/orders - Error","data":{"error":"PrismaClientKnownRequestError: \nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].order.create()` invocation in\nD:\\goodfood-menu\\.next\\dev\\server\\chunks\\[root-of-the-server]__e876d09c._.js:921:164\n\n  918     itemsToCreate: items\n  919 }, 'C,D');\n  920 // #endregion\n→ 921 const order = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].order.create(\nThe column `orders.trackingNumber` does not exist in the current database.","stack":"PrismaClientKnownRequestError: \nInvalid `__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].order.create()` invocation in\nD:\\goodfood-menu\\.next\\dev\\server\\chunks\\[root-of-the-server]__e876d09c._.js:921:164\n\n  918     itemsToCreate: items\n  919 }, 'C,D');\n  920 // #endregion\n→ 921 const order = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__[\"prisma\"].order.create(\nThe column `orders.trackingNumber` does not exist in the current database.\n    at ei.handleRequestError (D:\\goodfood-menu\\node_modules\\@prisma\\client\\runtime\\library.js:121:7268)\n    at ei.handleAndLogRequestError (D:\\goodfood-menu\\node_modules\\@prisma\\client\\runtime\\library.js:121:6593)\n    at ei.request (D:\\goodfood-menu\\node_modules\\@prisma\\client\\runtime\\library.js:121:6300)\n    at async a (D:\\goodfood-menu\\node_modules\\@prisma\\client\\runtime\\library.js:130:9551)\n    at async POST (D:\\goodfood-menu\\.next\\dev\\server\\chunks\\[root-of-the-server]__e876d09c._.js:921:23)\n    at async AppRouteRouteModule.do (D:\\goodfood-menu\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:5:37866)\n    at async AppRouteRouteModule.handle (D:\\goodfood-menu\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:5:45156)\n    at async responseGenerator (D:\\goodfood-menu\\.next\\dev\\server\\chunks\\[root-of-the-server]__674603a7._.js:15350:38)\n    at async AppRouteRouteModule.handleResponse (D:\\goodfood-menu\\node_modules\\next\\dist\\compiled\\next-server\\app-route-turbo.runtime.dev.js:1:191938)\n    at async handleResponse (D:\\goodfood-menu\\.next\\dev\\server\\chunks\\[root-of-the-server]__674603a7._.js:15413:32)\n    at async Module.handler (D:\\goodfood-menu\\.next\\dev\\server\\chunks\\[root-of-the-server]__674603a7._.js:15466:13)\n    at async DevServer.renderToResponseWithComponentsImpl (D:\\goodfood-menu\\node_modules\\next\\dist\\server\\base-server.js:1442:9)\n    at async DevServer.renderPageComponent (D:\\goodfood-menu\\node_modules\\next\\dist\\server\\base-server.js:1494:24)\n    at async DevServer.renderToResponseImpl (D:\\goodfood-menu\\node_modules\\next\\dist\\server\\base-server.js:1544:32)\n    at async DevServer.pipeImpl (D:\\goodfood-menu\\node_modules\\next\\dist\\server\\base-server.js:1038:25)\n    at async NextNodeServer.handleCatchallRenderRequest (D:\\goodfood-menu\\node_modules\\next\\dist\\server\\next-server.js:395:17)\n    at async DevServer.handleRequestImpl (D:\\goodfood-menu\\node_modules\\next\\dist\\server\\base-server.js:929:17)\n    at async D:\\goodfood-menu\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:387:20\n    at async Span.traceAsyncFn (D:\\goodfood-menu\\node_modules\\next\\dist\\trace\\trace.js:157:20)\n    at async DevServer.handleRequest (D:\\goodfood-menu\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:383:24)\n    at async invokeRender (D:\\goodfood-menu\\node_modules\\next\\dist\\server\\lib\\router-server.js:248:21)\n    at async handleRequest (D:\\goodfood-menu\\node_modules\\next\\dist\\server\\lib\\router-server.js:447:24)\n    at async requestHandlerImpl (D:\\goodfood-menu\\node_modules\\next\\dist\\server\\lib\\router-server.js:496:13)\n    at async Server.requestListener (D:\\goodfood-menu\\node_modules\\next\\dist\\server\\lib\\start-server.js:226:13)"},"timestamp":1770195554884,"sessionId":"debug-session","hypothesisId":"B,C,D"}
{"location":"menu/page.tsx:handleCheckout","message":"API response received","data":{"status":500,"ok":false,"responseBody":"{\"error\":\"Failed to create order\"}"},"timestamp":1770195555170,"sessionId":"debug-session","hypothesisId":"B,D"}
{"location":"menu/page.tsx:handleCheckout","message":"API returned error","data":{"status":500,"responseBody":"{\"error\":\"Failed to create order\"}"},"timestamp":1770195555171,"sessionId":"debug-session","hypothesisId":"B,C,D"}
{"location":"menu/page.tsx:handleCheckout","message":"Sending order payload","data":{"orderPayload":{"lineUserId":"dev-user-001","coursePlan":"single","totalDays":1,"totalPrice":130,"items":[{"foodId":"cml3kc5mu0001rzqc40ylv8w3","foodName":"ปลาดอร์รี่ลุยสวน","quantity":2,"price":65,"calories":120}]}},"timestamp":1770195714142,"sessionId":"debug-session","hypothesisId":"B,C"}
{"location":"api/orders/route.ts","message":"POST /api/orders - Request body","data":{"lineUserId":"dev-user-001","coursePlan":"single","totalDays":1,"totalPrice":130,"itemsCount":1},"timestamp":1770195714183,"sessionId":"debug-session","hypothesisId":"A,B"}
{"location":"menu/page.tsx:handleCheckout","message":"Checkout started","data":{"lineUserId":"dev-user-001","cartLength":1,"totalPrice":130,"cartItems":[{"foodId":"cml3kc5mu0001rzqc40ylv8w3","foodName":"ปลาดอร์รี่ลุยสวน","qty":2}]},"timestamp":1770195714142,"sessionId":"debug-session","hypothesisId":"A,E"}
{"location":"api/orders/route.ts","message":"POST /api/orders - Member lookup","data":{"lineUserId":"dev-user-001","memberFound":true,"memberId":"cml6pk0an0000rzzkesvt7rfx"},"timestamp":1770195714475,"sessionId":"debug-session","hypothesisId":"A"}
{"location":"api/orders/route.ts","message":"POST /api/orders - Creating order","data":{"finalMemberId":"cml6pk0an0000rzzkesvt7rfx","itemsToCreate":[{"foodId":"cml3kc5mu0001rzqc40ylv8w3","foodName":"ปลาดอร์รี่ลุยสวน","quantity":2,"price":65,"calories":120}]},"timestamp":1770195714475,"sessionId":"debug-session","hypothesisId":"C,D"}
{"location":"api/orders/route.ts","message":"POST /api/orders - Order created","data":{"orderId":"cml7stn09000brzu8vbbfpp8r","orderNumber":"GF2602049MVO"},"timestamp":1770195714858,"sessionId":"debug-session","hypothesisId":"B,D"}
{"location":"api/orders/route.ts","message":"POST /api/orders - LINE message sent","data":{"lineUserId":"dev-user-001"},"timestamp":1770195715303,"sessionId":"debug-session","hypothesisId":"B"}
{"location":"menu/page.tsx:handleCheckout","message":"API response received","data":{"status":201,"ok":true,"responseBody":"{\"id\":\"cml7stn09000brzu8vbbfpp8r\",\"orderNumber\":\"GF2602049MVO\",\"memberId\":\"cml6pk0an0000rzzkesvt7rfx\",\"coursePlan\":\"single\",\"totalDays\":1,\"totalPrice\":130,\"status\":\"pending\",\"note\":null,\"trackingNumber\":null,\"carrier\":null,\"createdAt\":\"2026-02-04T09:01:54.489Z\",\"updatedAt\":\"2026-02-04T09:01:54.489Z\",\"items\":[{\"id\":\"cml7stn09000drzu8brf4nbc6\",\"orderId\":\"cml7stn09000brzu8vbbfpp8r\",\"foodId\":\"cml3kc5mu0001rzqc40ylv8w3\",\"foodName\":\"ปลาดอร์รี่ลุยสวน\",\"price\":65,\"quantity\":2,\"dayNumber\":null,\"mealType\":null,\"calories\":120}],\"member\":{\"id\":\"cml6pk0an0000rzzkesvt7rfx\",\"lineUserId\":\"dev-user-001\",\"displayName\":null,\"pictureUrl\":null,\"name\":\"Developer\",\"email\":null,\"phone\":null,\"gender\":\"female\",\"birthDate\":\"1992-11-07T00:00:00.000Z\",\"height\":170,\"weight\":80,\"goalWeight\":65,\"goalType\":\"lose\",\"activityLevel\":\"active\",\"dietType\":\"balanced\",\"targetMonths\":4,\"bmr\":1537,\"tdee\":2651,\"dailyCalories\":2151,\"dailyProtein\":134,\"dailyCarbs\":269,\"dailyFat\":60,\"dailySodium\":2300,\"dailySugar\":50,\"dailyWater\":2900,\"isOnboarded\":true,\"isActive\":true,\"createdAt\":\"2026-02-03T14:42:39.847Z\",\"updatedAt\":\"2026-02-03T14:42:39.847Z\"}}"},"timestamp":1770195715316,"sessionId":"debug-session","hypothesisId":"B,D"}
{"location":"BarcodeModal.tsx:searchBarcode","message":"Search barcode called","data":{"code":"8858998519902 ","codeLength":14},"timestamp":1770215217623,"sessionId":"debug-session","hypothesisId":"E"}
{"location":"BarcodeModal.tsx:searchBarcode","message":"Calling API","data":{"url":"/api/barcode/8858998519902 "},"timestamp":1770215217624,"sessionId":"debug-session","hypothesisId":"E"}
{"location":"BarcodeModal.tsx:searchBarcode","message":"API response","data":{"success":false,"hasData":false},"timestamp":1770215220672,"sessionId":"debug-session","hypothesisId":"E"}
{"location":"BarcodeModal.tsx:handleSave","message":"Save called","data":{"barcode":"8858998519902 ","source":"ai_analysis","name":"ไม่สามารถวิเคราะห์ได้"},"timestamp":1770215252204,"sessionId":"debug-session","hypothesisId":"D"}
{"location":"BarcodeModal.tsx:handleSave","message":"Saving to DB","data":{"barcode":"8858998519902 ","formData":{"barcode":"8858998519902 ","name":"ไม่สามารถวิเคราะห์ได้","brand":null,"servingSize":100,"servingUnit":"g","calories":0,"protein":0,"carbs":0,"fat":0,"sodium":0,"sugar":0,"fiber":null,"source":"ai_analysis","confidence":0}},"timestamp":1770215252205,"sessionId":"debug-session","hypothesisId":"D"}
{"location":"BarcodeModal.tsx:handleSave","message":"Save response","data":{"success":true,"action":"created"},"timestamp":1770215253432,"sessionId":"debug-session","hypothesisId":"D"}
{"location":"BarcodeModal.tsx:searchBarcode","message":"Search barcode called","data":{"code":"8850999220017","codeLength":13},"timestamp":1770215489746,"sessionId":"debug-session","hypothesisId":"E"}
{"location":"BarcodeModal.tsx:searchBarcode","message":"Calling API","data":{"url":"/api/barcode/8850999220017"},"timestamp":1770215489747,"sessionId":"debug-session","hypothesisId":"E"}
{"location":"BarcodeModal.tsx:searchBarcode","message":"API response","data":{"source":"not_found","hasData":false},"timestamp":1770215492758,"sessionId":"debug-session","hypothesisId":"E"}
{"location":"BarcodeModal.tsx:handleSave","message":"Save called","data":{"barcode":"8850999220017","source":"ai_analysis","name":"ไม่สามารถวิเคราะห์ได้"},"timestamp":1770215502529,"sessionId":"debug-session","hypothesisId":"D"}
{"location":"BarcodeModal.tsx:handleSave","message":"Saving to DB","data":{"barcode":"8850999220017","formData":{"barcode":"8850999220017","name":"ไม่สามารถวิเคราะห์ได้","brand":null,"servingSize":100,"servingUnit":"g","calories":0,"protein":0,"carbs":0,"fat":0,"sodium":0,"sugar":0,"fiber":null,"source":"ai_analysis","confidence":0}},"timestamp":1770215502530,"sessionId":"debug-session","hypothesisId":"D"}
{"location":"BarcodeModal.tsx:handleSave","message":"Save response","data":{"success":true,"action":"created"},"timestamp":1770215503494,"sessionId":"debug-session","hypothesisId":"D"}
